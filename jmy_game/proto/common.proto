syntax="proto3";
import "error.proto";

enum MsgIdType {
	MSGID_NONE								= 0;
	MSGID_ERROR								= 1;
	/* Client <-> LoginServer */
	MSGID_C2L_LOGIN_REQUEST					= 100000; // login request
	MSGID_L2C_LOGIN_RESPONSE				= 100001; // login response
	MSGID_C2L_SELECT_SERVER_REQUEST			= 100002; // select server
	MSGID_L2C_SELECT_SERVER_RESPONSE		= 100003; // select server response
	/* Client <-> GateServer */
	MSGID_C2T_ENTER_GAME_REQUEST			= 100004; // enter game request
	MSGID_T2C_ENTER_GAME_RESPONSE			= 100005; // enter game response
	MSGID_T2C_ENTER_GAME_COMPLETE_NOTIFY	= 100006; // enter game complete notify
	MSGID_C2T_RECONNECT_REQUEST				= 101000; // reconnect gate server
	MSGID_T2C_RECONNECT_RESPONSE			= 101001; // reconnect response
}

message MsgError {
	ProtoErrorType error_code = 1;
}

message MsgC2LLoginRequest {
	bytes account = 1;
	bytes password = 2;
}

message MsgServerInfo {
	int32 id = 1;
	bytes name = 2;
	bool is_maintenance = 3;
	bool is_busy = 4;
}

message MsgL2CLoginResponse {
	repeated MsgServerInfo servers = 1;
}

message MsgC2LSelectServerRequest {
	int32 sel_id = 1;
}

message MsgL2CSelectServerResponse {
	bytes session_code = 1;
	bytes server_ip = 2;
	int32 port = 3;
}

message MsgC2TEnterGameRequest {
	bytes account = 1;
	bytes session_code = 2;
}

message MsgT2CEnterGameResponse {
}

message MsgT2CEnterGameCompleteNotify {
}

message MsgC2TReconnectRequest {
	bytes account = 1;
	bytes session = 2;
}

message MsgT2CReconnectResponse {
}
